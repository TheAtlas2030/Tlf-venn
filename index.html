import { useState } from 'react';

export default function HomePage() {
  const [activeDomain, setActiveDomain] = useState(null);

  const domains = [
    { id: 'function', label: 'How I Function', color: '#00A651', content: 'Neurological Functioning: Working memory, processing speed, sleep, hydration, nutrition, exercise, medication management.' },
    { id: 'learn', label: 'How I Learn', color: '#1B75BC', content: 'Cognitive Functioning: Familiarity, remembering, understanding, applying, analyzing, evaluating, creating, overlearning.' },
    { id: 'manage', label: 'How I Manage', color: '#ED1C24', content: 'Executive Functioning: Attention, flexibility, organization, planning, preparation, task initiation, time management.' },
    { id: 'feel', label: 'How I Feel', color: '#F7941D', content: 'Social-Emotional Functioning: Self-awareness, self-management, social awareness, relationship skills, responsible decision-making.' },
    { id: 'do', label: 'What I Do', color: '#EC008C', content: 'Self-Efficacy: Clarity, autonomy, motivation, engagement, perseverance, resilience, achievement.' }
  ];

  const isActive = (id) => activeDomain && activeDomain.id === id;

  return (
    <div className="min-h-screen bg-white text-slate-900">
      <section className="py-16" id="tlf">
        <div className="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 text-center">
          <h2 className="text-3xl font-semibold">The Learning FrameworkÂ®</h2>
          <p className="mt-3 max-w-2xl mx-auto text-slate-600">Click a domain in the Venn diagram to learn more.</p>
          <div className="relative mt-12 flex justify-center">
            <svg viewBox="0 0 400 400" className="w-[500px] h-auto">
              <circle cx="200" cy="200" r="180" fill={domains[0].color} fillOpacity="0.15" stroke={domains[0].color} strokeWidth={isActive('function') ? 5 : 3} className="cursor-pointer transition-all duration-300" style={{ filter: isActive('function') ? 'drop-shadow(0 0 12px rgba(0,166,81,0.35))' : 'none' }} onClick={() => setActiveDomain(domains[0])} />
              <circle cx="150" cy="180" r="85" fill={domains[1].color} fillOpacity={isActive('learn') ? 0.6 : 0.4} className="cursor-pointer transition-transform duration-300" style={{ transformOrigin: '150px 180px', transform: isActive('learn') ? 'scale(1.06)' : 'scale(1)' }} onClick={() => setActiveDomain(domains[1])} />
              <circle cx="250" cy="180" r="85" fill={domains[2].color} fillOpacity={isActive('manage') ? 0.6 : 0.4} className="cursor-pointer transition-transform duration-300" style={{ transformOrigin: '250px 180px', transform: isActive('manage') ? 'scale(1.06)' : 'scale(1)' }} onClick={() => setActiveDomain(domains[2])} />
              <circle cx="200" cy="260" r="85" fill={domains[3].color} fillOpacity={isActive('feel') ? 0.6 : 0.4} className="cursor-pointer transition-transform duration-300" style={{ transformOrigin: '200px 260px', transform: isActive('feel') ? 'scale(1.06)' : 'scale(1)' }} onClick={() => setActiveDomain(domains[3])} />
              <g className="cursor-pointer transition-transform duration-300" style={{ transformOrigin: '200px 206px', transform: isActive('do') ? 'scale(1.15)' : 'scale(1)' }} onClick={() => setActiveDomain(domains[4])}>
                <polygon points="200,190 204,202 217,202 206,210 210,222 200,215 190,222 194,210 183,202 196,202" fill={domains[4].color} />
              </g>
            </svg>
          </div>

          {activeDomain && (
            <div
              className="mt-8 max-w-xl mx-auto p-6 bg-white rounded-2xl shadow transition-colors duration-300"
              style={{ border: `4px solid ${activeDomain.color}`, boxShadow: `0 0 12px ${activeDomain.color}55` }}
            >
              <h3 className="text-xl font-semibold mb-3" style={{ color: activeDomain.color }}>{activeDomain.label}</h3>
              <p className="text-slate-600">{activeDomain.content}</p>
              <button
                onClick={() => setActiveDomain(null)}
                className="mt-4 rounded-2xl border px-4 py-2 text-sm font-semibold hover:bg-slate-50"
                style={{ borderColor: activeDomain.color, color: activeDomain.color }}
              >
                Close
              </button>
            </div>
          )}
        </div>
      </section>
    </div>
  );
}
